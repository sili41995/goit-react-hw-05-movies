"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[378],{5378:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r,i,o=t(5861),c=t(9439),u=t(4687),a=t.n(u),s=t(2791),f=t(7689),h=t(7972),l=t(1972),v=t(7199),p=t(8152),d=t(9308),Z=t(168),w=t(3081),g=w.Z.p(r||(r=(0,Z.Z)(["\n  font-weight: 700;\n  margin-bottom: ","px;\n"])),(function(e){return 4*e.theme.spacing})),m=t(184),y=function(e){var n=e.item,t=n.author,r=n.content;return(0,m.jsxs)("li",{children:[(0,m.jsxs)(g,{children:["Author: ",t]}),(0,m.jsx)("p",{children:r})]})},k=w.Z.ol(i||(i=(0,Z.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: ","px;\n"])),(function(e){return 5*e.theme.spacing})),_=function(){var e=(0,s.useState)((function(){return p.Z.reviews})),n=(0,c.Z)(e,2),t=n[0],r=n[1],i=(0,s.useState)((function(){return p.Z.status})),u=(0,c.Z)(i,2),Z=u[0],w=u[1],g=(0,f.UO)().movieId;return(0,s.useEffect)((function(){function e(){return(e=(0,o.Z)(a().mark((function e(n){var t,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(v.Z.pending),e.next=4,l.Z.fetchMovieReviews(n);case 4:t=e.sent,i=t.results,r(i),(0,h.Q)("Reviews uploaded"),w(v.Z.resolved),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),(0,h.J)("HTTP request failed"),w(v.Z.rejected);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(n){e.apply(this,arguments)}(g)}),[g]),(0,m.jsxs)(m.Fragment,{children:[Z===v.Z.pending&&(0,m.jsx)(d.Z,{}),t.length?(0,m.jsx)(k,{children:t.map((function(e){return(0,m.jsx)(y,{item:e},e.id)}))}):(0,m.jsx)("p",{children:"We don't have any reviews for this movie"})]})}},8152:function(e,n,t){var r={movies:[],movie:null,cast:null,status:t(7199).Z.idle,reviews:[]};n.Z=r},7199:function(e,n){n.Z={idle:"idle",pending:"pending",resolved:"resolved",rejected:"rejected"}},1972:function(e,n,t){var r=t(5671),i=t(3144),o=t(6274),c=t(9359),u=(0,c.Z)("API_KEY"),a=(0,c.Z)("BASE_URL"),s=new(function(){function e(){(0,r.Z)(this,e),Object.defineProperty(this,u,{writable:!0,value:"2f4676f5b742582c83b7dc4456b7601c"}),Object.defineProperty(this,a,{writable:!0,value:"https://api.themoviedb.org/3"})}return(0,i.Z)(e,[{key:"fetchTrendingMovies",value:function(){return fetch("".concat((0,o.Z)(this,a)[a],"/trending/all/day?language=en-US&api_key=").concat((0,o.Z)(this,u)[u])).then((function(e){if(!e.ok)throw new Error;return e.json()}))}},{key:"fetchMovieDetails",value:function(e){return fetch("".concat((0,o.Z)(this,a)[a],"/movie/").concat(e,"?language=en-US&api_key=").concat((0,o.Z)(this,u)[u])).then((function(e){if(!e.ok)throw new Error;return e.json()}))}},{key:"fetchMovieCast",value:function(e){return fetch("".concat((0,o.Z)(this,a)[a],"/movie/").concat(e,"/credits?language=en-US&api_key=").concat((0,o.Z)(this,u)[u])).then((function(e){if(!e.ok)throw new Error;return e.json()}))}},{key:"fetchMovieReviews",value:function(e){return fetch("".concat((0,o.Z)(this,a)[a],"/movie/").concat(e,"/reviews?language=en-US&page=1&api_key=").concat((0,o.Z)(this,u)[u])).then((function(e){if(!e.ok)throw new Error;return e.json()}))}},{key:"fetchMoviesByTitle",value:function(e){return fetch("".concat((0,o.Z)(this,a)[a],"/search/movie?query=").concat(e,"&include_adult=false&language=en-US&page=1&api_key=").concat((0,o.Z)(this,u)[u])).then((function(e){if(!e.ok)throw new Error;return e.json()}))}}]),e}());n.Z=s},7972:function(e,n,t){t.d(n,{J:function(){return i},Q:function(){return o}});var r=t(9085),i=(t(5462),function(e){r.Am.error(e)}),o=function(e){r.Am.success(e)}},5462:function(){},5861:function(e,n,t){function r(e,n,t,r,i,o,c){try{var u=e[o](c),a=u.value}catch(s){return void t(s)}u.done?n(a):Promise.resolve(a).then(r,i)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(i,o){var c=e.apply(n,t);function u(e){r(c,i,o,u,a,"next",e)}function a(e){r(c,i,o,u,a,"throw",e)}u(void 0)}))}}t.d(n,{Z:function(){return i}})},6274:function(e,n,t){function r(e,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw new TypeError("attempted to use private field on non-instance");return e}t.d(n,{Z:function(){return r}})},9359:function(e,n,t){t.d(n,{Z:function(){return i}});var r=0;function i(e){return"__private_"+r+++"_"+e}}}]);
//# sourceMappingURL=378.0ca1d956.chunk.js.map